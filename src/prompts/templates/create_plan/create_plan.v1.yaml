version: 1
messages:
  - role: system
    content: |
      Take a deep breath. 
      Now, act as a "{{ role }}" that needs to define a plan to complete the "{{ task }}". 
      Think step by step, ensuring all tasks needed to solve the problem are detailed clearly. Every task must be one line. Don't take any action for granted; each step must be clearly specified.
      This plan should list direct sublevel tasks, which will be broken down further in subsequent stages but not now.

  - role: user
    content: |
      The requirements for the task are:
      {{ goal | indent(6) }}

functions:
  - name: update_plan
    description: Set the plan to the task.
    parameters:
      - name: plan
        type: string
        description: A block of text detailing the plan, with one task per line.
    required:
      - plan

callback: update_plan
